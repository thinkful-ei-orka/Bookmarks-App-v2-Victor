!function(n){var e={};function o(t){if(e[t])return e[t].exports;var r=e[t]={i:t,l:!1,exports:{}};return n[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=n,o.c=e,o.d=function(n,e,t){o.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:t})},o.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},o.t=function(n,e){if(1&e&&(n=o(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var r in n)o.d(t,r,function(e){return n[e]}.bind(null,r));return t},o.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return o.d(e,"a",e),e},o.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},o.p="",o(o.s=4)}([function(n,e,o){var t=o(1),r=o(2);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[n.i,r,""]]);var a={insert:"head",singleton:!1};t(r,a);n.exports=r.locals||{}},function(n,e,o){"use strict";var t,r=function(){return void 0===t&&(t=Boolean(window&&document&&document.all&&!window.atob)),t},a=function(){var n={};return function(e){if(void 0===n[e]){var o=document.querySelector(e);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(n){o=null}n[e]=o}return n[e]}}(),i=[];function l(n){for(var e=-1,o=0;o<i.length;o++)if(i[o].identifier===n){e=o;break}return e}function c(n,e){for(var o={},t=[],r=0;r<n.length;r++){var a=n[r],c=e.base?a[0]+e.base:a[0],s=o[c]||0,d="".concat(c," ").concat(s);o[c]=s+1;var u=l(d),p={css:a[1],media:a[2],sourceMap:a[3]};-1!==u?(i[u].references++,i[u].updater(p)):i.push({identifier:d,updater:k(p,e),references:1}),t.push(d)}return t}function s(n){var e=document.createElement("style"),t=n.attributes||{};if(void 0===t.nonce){var r=o.nc;r&&(t.nonce=r)}if(Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])})),"function"==typeof n.insert)n.insert(e);else{var i=a(n.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(e)}return e}var d,u=(d=[],function(n,e){return d[n]=e,d.filter(Boolean).join("\n")});function p(n,e,o,t){var r=o?"":t.media?"@media ".concat(t.media," {").concat(t.css,"}"):t.css;if(n.styleSheet)n.styleSheet.cssText=u(e,r);else{var a=document.createTextNode(r),i=n.childNodes;i[e]&&n.removeChild(i[e]),i.length?n.insertBefore(a,i[e]):n.appendChild(a)}}function b(n,e,o){var t=o.css,r=o.media,a=o.sourceMap;if(r?n.setAttribute("media",r):n.removeAttribute("media"),a&&btoa&&(t+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),n.styleSheet)n.styleSheet.cssText=t;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(t))}}var g=null,f=0;function k(n,e){var o,t,r;if(e.singleton){var a=f++;o=g||(g=s(e)),t=p.bind(null,o,a,!1),r=p.bind(null,o,a,!0)}else o=s(e),t=b.bind(null,o,e),r=function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(o)};return t(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap)return;t(n=e)}else r()}}n.exports=function(n,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=r());var o=c(n=n||[],e);return function(n){if(n=n||[],"[object Array]"===Object.prototype.toString.call(n)){for(var t=0;t<o.length;t++){var r=l(o[t]);i[r].references--}for(var a=c(n,e),s=0;s<o.length;s++){var d=l(o[s]);0===i[d].references&&(i[d].updater(),i.splice(d,1))}o=a}}}},function(n,e,o){(e=o(3)(!1)).push([n.i,"* {\n  box-sizing: border-box\n}\n   \nmain {\n  width: 90%;\n  margin: 0 auto;\n}\n   \nbody {  \n  font-family: 'Roboto', sans-serif; \n  background-color: rgb(255, 251, 246);   \n}\n   \nh1, h2 {\n  text-align: center;\n}\n\nfieldset, .show, .js-add-bookmark-form {\n  display: inline-block;\n}\n\n.js-add-bookmark-form {\n  margin: 0 auto;\n  width: 100%;\n}\n\n.js-collapsible {\n  background-color: rgb(255, 133, 133);\n  color: black;\n  cursor: pointer;\n  padding: 18px;\n  width: 100%;\n  border: 2px solid rgb(92, 0, 0);\n  text-align: left;\n  outline: none;\n  font-size: 15px;\n  border-radius: 4px;\n}\n  \n.active, .js-collapsible:hover {\n  background-color: rgb(92, 0, 0);\n  color: white;\n}\n\n.content {\n  padding: 0 18px;\n  display: none;\n  overflow: hidden;\n  background-color: rgb(255, 217, 217);\n  text-align: center;\n  margin-bottom: 10px;\n}\n\n.content hidden {\n  padding: 0 18px;\n  display: block;\n  overflow: hidden;\n  background-color: plum;\n  text-align: center;\n}\n  \n.content > p {\n  text-align: left;\n}\n  \n.checked {\n  color: orange;\n}\n  \n.dropdown {\n  width: 100%;\n  height: 20%;\n  margin: 10px auto;\n}\n  \n.label {\n  text-align: center;\n}\n\n.dropdown {\n  position: relative;\n  float: right;\n}\n\n.show {\n  position: absolute;  \n}\n  \na.button {\n  background-color: rgb(255, 133, 133);\n  color: black;\n  padding: 16px;\n  font-size: 16px;\n  border: 2px solid rgb(92, 0, 0);\n  cursor: pointer;\n  border-radius: 4px;\n  margin: 10px;\n}\n\na.button:hover {\n  background-color: rgb(92, 0, 0);\n  color: white\n}\n\na:link {\n  text-decoration: none;\n}\n\n.js-bookmark-delete-button {\n  background-color: rgb(255, 133, 133);\n  color: black;\n  padding: 16px;\n  font-size: 16px;\n  border: 2px solid rgb(92, 0, 0);\n  cursor: pointer;\n  border-radius: 4px;\n  margin: 10px;\n}\n\n.js-bookmark-delete-button:hover {\n  background-color: rgb(92, 0, 0);\n  color: white\n}\n\n/* .js-site-link-btn {\n  background-color: grey;\n  color: black;\n  padding: 16px;\n  font-size: 16px;\n  border: none;\n  cursor: pointer;\n  border-radius: 4px;\n}\n  \n.js-site-link-btn:hover {\n  background-color: purple;\n  color: white\n} */\n  \n.current-rating {\n  padding: 16px;\n  margin: 16px;\n}\n\n.js-add-button {\n  position: relative;  \n  background-color: #f1f1f1;\n  color: black;\n  padding: 16px 20px;\n  font-size: 16px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  float: left;\n  width: 100%;\n}\n  \n.js-add-button:hover, .js-add-button:focus {\n  background-color: rgb(92, 0, 0);\n  color: white\n}\n  \nselect {\n  width: 100%;\n  padding: 16px 20px;\n  border: none;\n  font-size: 1rem;\n  border-radius: 4px;\n  background-color: #f1f1f1;\n  cursor: pointer;\n}\n  \nselect:hover {\n  background-color: rgb(92, 0, 0);\n  color: white;\n}\n\ninput {\n  display: block;\n  width: 60%;\n  height: 200%;\n}\n  \n.description {\n  display: block;\n  max-width: 300px;\n}\n  \n.textarea{\n  max-width: 300px;\n  width: 100%;\n}\n  \n.js-add-fieldset{\n  height:70%;\n  max-height:90%;\n  width: 100%;\n  margin-right: auto;\n  margin-left: auto;\n  margin-bottom: 10px;\n}\n\n#js-bookmark-rating {\n  margin: 15px auto;\n}\n\n/* .js-create, .js-cancel {\n  display: block;\n  width: 100%;\n  background-color: lightgrey;\n  border-radius: 1px;\n  margin-bottom: 10px;\n} */\n\n.js-create, .js-cancel {\n  display: block;\n  width: 100%;\n  margin-bottom: 10px;\n  background-color: rgb(255, 133, 133);\n  color: black;\n  padding: 16px;\n  font-size: 16px;\n  border: 2px solid rgb(92, 0, 0);\n  cursor: pointer;\n  border-radius: 4px;\n}\n\n.js-create:hover, .js-cancel:hover {\n  background-color: rgb(92, 0, 0);\n  color: white\n}\n  \n.error-container {\n  color: red;\n  font-weight: bold;\n}\n  \n.error-container * {\n  display: inline-block;\n}\n  \n#cancel-error {\n  margin-right: 0.5rem;\n}\n\n.rating { \n  border: none;\n  float: left;\n}\n\n.rating > input { \n  display: none; \n  } \n\n.rating > label:before { \n  margin: 5px;\n  font-size: 1.25em;\n  font-family: FontAwesome;\n  display: block;\n  content: '\\f005';\n}\n\n.rating > label { \n  color: #ddd;  \n  float: right;\n}\n\n.rating > input:checked ~ label, /* show gold star when clicked */\n.rating:not(:checked) > label:hover, /* hover current star */\n.rating:not(:checked) > label:hover ~ label { \n  color: #FFD700;  \n} /* hover previous stars in list */\n\n.rating > input:checked + label:hover, /* hover current star when changing rating */\n.rating > input:checked ~ label:hover,\n.rating > label:hover ~ input:checked ~ label, /* lighten current selection */\n.rating > input:checked ~ label:hover ~ label {\n  color: #FFED85;  \n} \n",""]),n.exports=e},function(n,e,o){"use strict";n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var o=function(n,e){var o=n[1]||"",t=n[3];if(!t)return o;if(e&&"function"==typeof btoa){var r=(i=t,l=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(l),"/*# ".concat(c," */")),a=t.sources.map((function(n){return"/*# sourceURL=".concat(t.sourceRoot||"").concat(n," */")}));return[o].concat(a).concat([r]).join("\n")}var i,l,c;return[o].join("\n")}(e,n);return e[2]?"@media ".concat(e[2]," {").concat(o,"}"):o})).join("")},e.i=function(n,o,t){"string"==typeof n&&(n=[[null,n,""]]);var r={};if(t)for(var a=0;a<this.length;a++){var i=this[a][0];null!=i&&(r[i]=!0)}for(var l=0;l<n.length;l++){var c=[].concat(n[l]);t&&r[c[0]]||(o&&(c[2]?c[2]="".concat(o," and ").concat(c[2]):c[2]=o),e.push(c))}},e}},function(n,e,o){"use strict";o.r(e);const t={bookmarks:[],adding:!1,error:null,filter:0};var r={store:t,bookmarks:t.bookmarks,adding:t.adding,filter:t.filter,error:t.error,findById:function(n){return console.log("ran FbyI"),t.bookmarks.find(e=>e.id===n)},addBookmark:function(n){const e={expanded:!1};Object.assign(e,n),console.log("ran addB"),this.bookmarks.push(e),console.log(t.bookmarks)},findAndDelete:function(n){return console.log("ran FandD"),console.log(n),console.log(t.bookmarks.length),t.bookmarks=t.bookmarks.filter(e=>e.id!==n),console.log(t.bookmarks.length),t.bookmarks},findAndToggleExpanded:function(n){console.log("ran findAndToggleExpanded");const e=this.findById(n);console.log(e),e.expanded=!e.expanded,$("#"+n).next(".content").toggle()},filterByRating:function(n){return console.log("ran filterByRating"),t.bookmarks.filter(e=>e.rating>=n)},setError:function(n){this.error=n}};const a="https://thinkful-list-api.herokuapp.com/vctrjrvs",i=function(...n){let e;return console.log("fullfetch run"),fetch(...n).then(n=>n.ok||(e={code:n.status},n.headers.get("Content-type").includes("json"))?n.json():(e.message=n.statusText,Promise.reject(e))).then(n=>e?(e.message=n.message,Promise.reject(e)):n)};var l={getBookmarks:function(){return console.log("getBookmarks ran"),i(a+"/bookmarks")},createBookmark:function({title:n,url:e,desc:o,rating:t}){console.log("createBookmarks ran");let r=JSON.stringify({title:n,url:e,desc:o,rating:t});return console.log(r),i(a+"/bookmarks",{method:"POST",headers:{"Content-Type":"application/json"},body:r})},deleteBookmark:function(n){return i(`${a}/bookmarks/${n}`,{method:"DELETE"})},fullFetch:i};let c="\n          <h1>My Bookmarks</h1>\n          <div class='js-bookmark-controls'>\n               <button class='js-add-button'>Add New</button>\n               <div class='dropdown'>\n                    <label for='js-rating'></label>\n                    <select id='js-rating-dropdown' value='Filter By Rating'>\n                         <option value=''>Filter By Minimum Rating</option>\n                         <option id='rating' value='5'>★ ★ ★ ★ ★</option>\n                         <option id='rating' value='4'>★ ★ ★ ★</option>\n                         <option id='rating' value='3'>★ ★ ★</option>\n                         <option id='rating' value='2'>★ ★</option>\n                         <option id='rating' value='1'>★</option>\n                         <option id='rating' value='0'>0 Stars</option>\n                    </select>\n               </div>\n          </div>\n          ";const s=function(){g();let n="",e=[...r.bookmarks],o=u(e);!0===r.adding?n+="\n<h2>Add New Bookmark</h2>\n<form role='form' class='js-add-bookmark-form'>\n     <fieldset class= 'js-add-fieldset'>\n          <label for='js-bookmark-title'>Bookmark Title</label>\n               <input type='text' id='js-bookmark-title' required>\n          <label for='js-bookmark-url'>Bookmark URL</label>\n               <input type='text' id='js-bookmark-url' required>\n          <label for='js-bookmark-description'>Description</label>\n\n               <textarea id='js-bookmark-description' required></textarea>\n \n          <div class='rating' id='js-bookmark-rating' required>\n               <input type='radio' id='star5' name='rating' value='5' />\n               <label class ='full' for='star5' title='5 stars'></label>\n               <input type='radio' id='star4' name='rating' value='4' />\n               <label class ='full' for='star4' title='4 stars'></label>\n               <input type='radio' id='star3' name='rating' value='3' />\n               <label class = 'full' for='star3' title='3 stars'></label>\n               <input type='radio' id='star2' name='rating' value='2' />\n               <label class = 'full' for='star2' title='2 stars'></label>\n               <input type='radio' id='star1' name='rating' value='1' />\n               <label class = 'full' for='star1' title='1 star'></label>\n          </div>\n          <div class='js-new-bookmark-buttons'>\n          <button type='submit' class='js-create'>Create</button>\n          <button type='reset' class='js-cancel'>Cancel</button>\n          </div>\n     </fieldset>\n</form>\n":0!==r.filter?(n+=c,n+=u(r.filterByRating(r.filter))):(n+=c,console.log("home html added"),n+=o),$("main").html(n)},d=function(n){return $(n).attr("id")},u=function(n){return n.map(n=>p(n)).join("")},p=function(n){let e=`<span class='js-bookmark-title'>${n.title}</span>`,o=`<span class='js-bookmark-rating'>${n.rating}</span>`,t=""+n.url,r=""+n.description,a="";for(let e=0;e<5;e++)e<n.rating?a+="<span class='fa fa-star checked'></span>":a+="<span class='fa fa-star'></span>";return`\n          <button type='button' id='${n.id}' class='js-collapsible'> ${e}: ${o} Stars</button>\n          <div class='content hidden'>\n          <div class= 'current-rating'>\n               ${a}\n          </div>\n          <div>\n          <a class='button' class='js-site-link-btn' href='${t}' target='_blank'>Visit Site</a>\n          <button type='' class='js-bookmark-delete-button' id='${n.id}'>Delete</button>\n          </div>\n          <p>${r}</p>\n     </div>\n          `},b=function(n){return`\n          <section class ='error-content'>\n               button id='cancel-error'>X</button>\n               <p>${n}</p>\n          </section>\n          `},g=function(){if(r.error){const n=b(r.error);$(".error-container").html(n)}else $(".error-container").empty()};var f=function(){console.log("line 163"),$("main").on("submit",".js-add-bookmark-form",n=>{let e;n.preventDefault(),console.log("handlenewbookmarksubmit ran");let o=$("#js-bookmark-title").val(),t=$("#js-bookmark-url").val(),a=$("#js-bookmark-description").val(),i=$("#js-bookmark-rating input:checked").val();""===o||""===t?b(o):(e={title:o,url:t,desc:a,rating:i},console.log(e),l.createBookmark(e).then(n=>{r.addBookmark(n),console.log("bookmark added"),r.adding=!1,s()}).catch(n=>{r.setError(n.messsage),g()}))}),$("main").on("click",".js-collapsible",n=>{console.log("line 200 clicked");const e=d(n.currentTarget);console.log(e),r.findAndToggleExpanded(e)}),$("main").on("change","#js-rating-dropdown",n=>{console.log("rating picked");const e=$("option:selected").val();console.log(e),r.filter=e,s()}),console.log("line 148"),$("main").on("click",".js-add-button",n=>{n.preventDefault(),console.log("Add new clicked"),r.adding=!r.adding,s()}),$("main").on("click",".js-bookmark-delete-button",n=>{console.log("delete button clicked");const e=d(n.currentTarget);console.log(e),l.deleteBookmark(e).then(()=>{r.findAndDelete(e),s()}).catch(n=>{console.log(n),r.setError(n.message),g()})}),$("main").on("click",".js-cancel",n=>{n.preventDefault(),console.log("cancel button clicked"),r.adding=!r.adding,s()}),$(".error-container").on("click","#cancel-error",()=>{r.setError(null),console.log("error x clicked"),g()})},k=s;o(0);$((function(){console.log("main start"),l.getBookmarks().then(n=>{n.forEach(n=>r.addBookmark(n)),k()}),f(),k()}))}]);