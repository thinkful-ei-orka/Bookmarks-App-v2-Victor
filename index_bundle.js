!function(n){var o={};function e(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return n[t].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=n,e.c=o,e.d=function(n,o,t){e.o(n,o)||Object.defineProperty(n,o,{enumerable:!0,get:t})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,o){if(1&o&&(n=e(n)),8&o)return n;if(4&o&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(e.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&o&&"string"!=typeof n)for(var r in n)e.d(t,r,function(o){return n[o]}.bind(null,r));return t},e.n=function(n){var o=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(o,"a",o),o},e.o=function(n,o){return Object.prototype.hasOwnProperty.call(n,o)},e.p="",e(e.s=0)}([function(n,o,e){"use strict";e.r(o);const t={bookmarks:[],adding:!1,error:null,filter:0};var r={store:t,bookmarks:t.bookmarks,adding:t.adding,filter:t.filter,error:t.error,findById:function(n){return console.log("ran FbyI"),t.bookmarks.find(o=>o.id===n)},addBookmark:function(n){const o={expanded:!1};Object.assign(o,n),console.log("ran addB"),this.bookmarks.push(o),console.log(t.bookmarks)},findAndDelete:function(n){return console.log("ran FandD"),console.log(n),console.log(t.bookmarks.length),t.bookmarks=t.bookmarks.filter(o=>o.id!==n),console.log(t.bookmarks.length),t.bookmarks},findAndToggleExpanded:function(n){console.log("ran findAndToggleExpanded");const o=this.findById(n);console.log(o),o.expanded=!o.expanded,$("#"+n).next(".content").toggle()},filterByRating:function(n){return console.log("ran filterByRating"),t.bookmarks.filter(o=>o.rating>=n)},setError:function(n){this.error=n}};const a="https://thinkful-list-api.herokuapp.com/vctrjrvs",l=function(...n){let o;return console.log("fullfetch run"),fetch(...n).then(n=>n.ok||(o={code:n.status},n.headers.get("Content-type").includes("json"))?n.json():(o.message=n.statusText,Promise.reject(o))).then(n=>o?(o.message=n.message,Promise.reject(o)):n)};var i={getBookmarks:function(){return console.log("getBookmarks ran"),l(a+"/bookmarks")},createBookmark:function({title:n,url:o,description:e,rating:t}){console.log("createBookmarks ran");let r=JSON.stringify({title:n,url:o,description:e,rating:t});return console.log(r),l(a+"/bookmarks",{method:"POST",headers:{"Content-Type":"application/json"},body:r})},deleteBookmark:function(n){return l(`${a}/bookmarks/${n}`,{method:"DELETE"})},fullFetch:l};let s="\n          <h1>My Bookmarks</h1>\n          <div class='js-bookmark-controls'>\n               <button class='js-add-button'>Add New</button>\n               <div class='dropdown'>\n                    <label for='js-rating'></label>\n                    <select id='js-rating-dropdown' value='Filter By Rating'>\n                         <option value=''>Filter By Minimum Rating</option>\n                         <option id='rating' value='5'>★ ★ ★ ★ ★</option>\n                         <option id='rating' value='4'>★ ★ ★ ★</option>\n                         <option id='rating' value='3'>★ ★ ★</option>\n                         <option id='rating' value='2'>★ ★</option>\n                         <option id='rating' value='1'>★</option>\n                         <option id='rating' value='0'>0 Stars</option>\n                    </select>\n               </div>\n          </div>\n          ";const c=function(){g();let n="",o=[...r.bookmarks],e=u(o);!0===r.adding?n+="\n<h2>Add New Bookmark</h2>\n<form role='form' class='js-add-bookmark-form'>\n     <fieldset class= 'js-add-fieldset'>\n          <label for='js-bookmark-title'>Bookmark Title</label>\n               <input type='text' id='js-bookmark-title' required>\n          <label for='js-bookmark-url'>Bookmark URL</label>\n               <input type='text' id='js-bookmark-url' required>\n          <label for='js-bookmark-description'>Description</label>\n               <div class='js-bookmark-description'>\n               <textarea id='js-bookmark-description' required></textarea>\n               </div>\n          <div class='rating' id='js-bookmark-rating' required>\n               <input type='radio' id='star5' name='rating' value='5' />\n               <label class ='full' for='star5' title='5 stars'></label>\n               <input type='radio' id='star4' name='rating' value='4' />\n               <label class ='full' for='star4' title='4 stars'></label>\n               <input type='radio' id='star3' name='rating' value='3' />\n               <label class = 'full' for='star3' title='3 stars'></label>\n               <input type='radio' id='star2' name='rating' value='2' />\n               <label class = 'full' for='star2' title='2 stars'></label>\n               <input type='radio' id='star1' name='rating' value='1' />\n               <label class = 'full' for='star1' title='1 star'></label>\n          </div>\n          <div class='js-new-bookmark-buttons'>\n          <button type='submit' class='js-create'>Create</button>\n          <button type='reset' class='js-cancel'>Cancel</button>\n          </div>\n     </fieldset>\n</form>\n":0!==r.filter?(n+=s,n+=u(r.filterByRating(r.filter))):(n+=s,console.log("home html added"),n+=e),$("main").html(n)},d=function(n){return $(n).attr("id")},u=function(n){return n.map(n=>k(n)).join("")},k=function(n){let o=`<span class='js-bookmark-title'>${n.title}</span>`,e=`<span class='js-bookmark-rating'>${n.rating}</span>`,t=""+n.url,r=""+n.description,a="";for(let o=0;o<5;o++)o<n.rating?a+="<span class='fa fa-star checked'></span>":a+="<span class='fa fa-star'></span>";return`\n          <button type='button' id='${n.id}' class='js-collapsible'> ${o}: ${e} Stars</button>\n          <div class='content hidden'>\n          <div class= 'current-rating'>\n               ${a}\n          </div>\n          <div>\n          <a class='button' class='js-site-link-btn' href='${t}' target='_blank'>Visit Site</a>\n          <button type='' class='js-bookmark-delete-button' id='${n.id}'>Delete</button>\n          </div>\n          <p>${r}</p>\n     </div>\n          `},f=function(n){return`\n          <section class ='error-content'>\n               button id='cancel-error'>X</button>\n               <p>${n}</p>\n          </section>\n          `},g=function(){if(r.error){const n=f(r.error);$(".error-container").html(n)}else $(".error-container").empty()};var b=function(){console.log("line 163"),$("main").on("submit",".js-add-bookmark-form",n=>{let o;n.preventDefault(),console.log("handlenewbookmarksubmit ran");let e=$("#js-bookmark-title").val(),t=$("#js-bookmark-url").val(),a=$("#js-bookmark-description").val(),l=$("#js-bookmark-rating input:checked").val();""===e||""===t?f(e):(o={title:e,url:t,description:a,rating:l},console.log(o),i.createBookmark(o).then(n=>{r.addBookmark(n),console.log("bookmark added"),r.adding=!1,c()}).catch(n=>{r.setError(n.messsage),g()}))}),$("main").on("click",".js-collapsible",n=>{console.log("line 200 clicked");const o=d(n.currentTarget);console.log(o),r.findAndToggleExpanded(o)}),$("main").on("change","#js-rating-dropdown",n=>{console.log("rating picked");const o=$("option:selected").val();console.log(o),r.filter=o,c()}),console.log("line 148"),$("main").on("click",".js-add-button",n=>{n.preventDefault(),console.log("Add new clicked"),r.adding=!r.adding,c()}),$("main").on("click",".js-bookmark-delete-button",n=>{console.log("delete button clicked");const o=d(n.currentTarget);console.log(o),i.deleteBookmark(o).then(()=>{r.findAndDelete(o),c()}).catch(n=>{console.log(n),r.setError(n.message),g()})}),$("main").on("click",".js-cancel",n=>{n.preventDefault(),console.log("cancel button clicked"),r.adding=!r.adding,c()}),$(".error-container").on("click","#cancel-error",()=>{r.setError(null),console.log("error x clicked"),g()})},m=c;$((function(){console.log("main start"),i.getBookmarks().then(n=>{n.forEach(n=>r.addBookmark(n)),m()}),b(),m()}))}]);