!function(n){var o={};function e(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return n[t].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=n,e.c=o,e.d=function(n,o,t){e.o(n,o)||Object.defineProperty(n,o,{enumerable:!0,get:t})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,o){if(1&o&&(n=e(n)),8&o)return n;if(4&o&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(e.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&o&&"string"!=typeof n)for(var r in n)e.d(t,r,function(o){return n[o]}.bind(null,r));return t},e.n=function(n){var o=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(o,"a",o),o},e.o=function(n,o){return Object.prototype.hasOwnProperty.call(n,o)},e.p="",e(e.s=4)}([function(n,o,e){var t=e(1),r=e(2);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[n.i,r,""]]);var a={insert:"head",singleton:!1};t(r,a);n.exports=r.locals||{}},function(n,o,e){"use strict";var t,r=function(){return void 0===t&&(t=Boolean(window&&document&&document.all&&!window.atob)),t},a=function(){var n={};return function(o){if(void 0===n[o]){var e=document.querySelector(o);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(n){e=null}n[o]=e}return n[o]}}(),i=[];function l(n){for(var o=-1,e=0;e<i.length;e++)if(i[e].identifier===n){o=e;break}return o}function s(n,o){for(var e={},t=[],r=0;r<n.length;r++){var a=n[r],s=o.base?a[0]+o.base:a[0],c=e[s]||0,d="".concat(s," ").concat(c);e[s]=c+1;var u=l(d),p={css:a[1],media:a[2],sourceMap:a[3]};-1!==u?(i[u].references++,i[u].updater(p)):i.push({identifier:d,updater:k(p,o),references:1}),t.push(d)}return t}function c(n){var o=document.createElement("style"),t=n.attributes||{};if(void 0===t.nonce){var r=e.nc;r&&(t.nonce=r)}if(Object.keys(t).forEach((function(n){o.setAttribute(n,t[n])})),"function"==typeof n.insert)n.insert(o);else{var i=a(n.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(o)}return o}var d,u=(d=[],function(n,o){return d[n]=o,d.filter(Boolean).join("\n")});function p(n,o,e,t){var r=e?"":t.media?"@media ".concat(t.media," {").concat(t.css,"}"):t.css;if(n.styleSheet)n.styleSheet.cssText=u(o,r);else{var a=document.createTextNode(r),i=n.childNodes;i[o]&&n.removeChild(i[o]),i.length?n.insertBefore(a,i[o]):n.appendChild(a)}}function b(n,o,e){var t=e.css,r=e.media,a=e.sourceMap;if(r?n.setAttribute("media",r):n.removeAttribute("media"),a&&btoa&&(t+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),n.styleSheet)n.styleSheet.cssText=t;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(t))}}var g=null,f=0;function k(n,o){var e,t,r;if(o.singleton){var a=f++;e=g||(g=c(o)),t=p.bind(null,e,a,!1),r=p.bind(null,e,a,!0)}else e=c(o),t=b.bind(null,e,o),r=function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)};return t(n),function(o){if(o){if(o.css===n.css&&o.media===n.media&&o.sourceMap===n.sourceMap)return;t(n=o)}else r()}}n.exports=function(n,o){(o=o||{}).singleton||"boolean"==typeof o.singleton||(o.singleton=r());var e=s(n=n||[],o);return function(n){if(n=n||[],"[object Array]"===Object.prototype.toString.call(n)){for(var t=0;t<e.length;t++){var r=l(e[t]);i[r].references--}for(var a=s(n,o),c=0;c<e.length;c++){var d=l(e[c]);0===i[d].references&&(i[d].updater(),i.splice(d,1))}e=a}}}},function(n,o,e){(o=e(3)(!1)).push([n.i,"* {\n  box-sizing: border-box\n}\n   \nmain {\n  width: 90%;\n  margin: 0 auto;\n}\n   \nbody {  \n  font-family: 'Roboto', sans-serif; \n  background-color: rgb(255, 251, 246);   \n}\n   \nh1, h2 {\n  text-align: center;\n}\n\nfieldset, .show, .js-add-bookmark-form {\n  display: inline-block;\n}\n\n.js-add-bookmark-form {\n  margin: 0 auto;\n  width: 100%;\n}\n\n.js-collapsible {\n  background-color: rgb(255, 133, 133);\n  color: black;\n  cursor: pointer;\n  padding: 18px;\n  width: 100%;\n  border: 2px solid rgb(92, 0, 0);\n  text-align: left;\n  outline: none;\n  font-size: 15px;\n  border-radius: 4px;\n}\n  \n.active, .js-collapsible:hover {\n  background-color: rgb(92, 0, 0);\n  color: white;\n}\n\n.content {\n  padding: 0 18px;\n  display: none;\n  overflow: hidden;\n  border-radius: 4px;\n  background-color: rgb(255, 217, 217);\n  text-align: center;\n  margin-bottom: 10px;\n}\n\n.content hidden {\n  padding: 0 18px;\n  display: block;\n  overflow: hidden;\n  background-color: plum;\n  text-align: center;\n}\n  \n.content > p {\n  text-align: left;\n}\n  \n.checked {\n  color: orange;\n}\n  \n.dropdown {\n  width: 100%;\n  height: 20%;\n  margin: 10px auto;\n}\n  \n/* label {\n  margin: 5px;\n} */\n\n/* .js-rating > label {\n  float: none;\n} */\n\n.dropdown {\n  position: relative;\n  float: right;\n}\n\n.show {\n  position: absolute;  \n}\n  \na.button {\n  background-color: rgb(255, 133, 133);\n  color: black;\n  padding: 16px;\n  font-size: 16px;\n  border: 2px solid rgb(92, 0, 0);\n  cursor: pointer;\n  border-radius: 4px;\n  margin: 10px;\n}\n\na.button:hover {\n  background-color: rgb(92, 0, 0);\n  color: white\n}\n\na:link {\n  text-decoration: none;\n}\n\n.js-bookmark-delete-button {\n  background-color: rgb(255, 133, 133);\n  color: black;\n  padding: 16px;\n  font-size: 16px;\n  border: 2px solid rgb(92, 0, 0);\n  cursor: pointer;\n  border-radius: 4px;\n  margin: 10px;\n}\n\n.js-bookmark-delete-button:hover {\n  background-color: rgb(92, 0, 0);\n  color: white\n}\n\n/* .js-site-link-btn {\n  background-color: grey;\n  color: black;\n  padding: 16px;\n  font-size: 16px;\n  border: none;\n  cursor: pointer;\n  border-radius: 4px;\n}\n  \n.js-site-link-btn:hover {\n  background-color: purple;\n  color: white\n} */\n  \n.current-rating {\n  padding: 16px;\n  margin: 16px;\n}\n\n.js-add-button {\n  position: relative;  \n  background-color: #f1f1f1;\n  color: black;\n  padding: 16px 20px;\n  font-size: 16px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  float: left;\n  width: 100%;\n}\n  \n.js-add-button:hover, .js-add-button:focus {\n  background-color: rgb(92, 0, 0);\n  color: white\n}\n  \nselect {\n  width: 100%;\n  padding: 16px 20px;\n  border: none;\n  font-size: 1rem;\n  border-radius: 4px;\n  background-color: #f1f1f1;\n  cursor: pointer;\n}\n  \nselect:hover {\n  background-color: rgb(92, 0, 0);\n  color: white;\n}\n\ninput {\n  display: block;\n  width: 100%;\n  height: 200%;\n  margin: 5px 0;\n}\n  \n.description {\n  display: block;\n  max-width: 300px;\n}\n  \n.textarea{\n  max-width: 300px;\n  width: 100%;\n  padding: 5px;\n}\n  \n.js-add-fieldset{\n  height:70%;\n  max-height:90%;\n  width: 100%;\n  margin-right: auto;\n  margin-left: auto;\n  margin-bottom: 10px;\n}\n\n#js-bookmark-rating {\n  margin: 15px auto;\n}\n\n.js-create, .js-cancel {\n  display: block;\n  width: 100%;\n  margin-bottom: 10px;\n  background-color: rgb(255, 133, 133);\n  color: black;\n  padding: 16px;\n  font-size: 16px;\n  border: 2px solid rgb(92, 0, 0);\n  cursor: pointer;\n  border-radius: 4px;\n}\n\n.js-create:hover, .js-cancel:hover {\n  background-color: rgb(92, 0, 0);\n  color: white\n}\n  \n.error-container {\n  color: red;\n  font-weight: bold;\n}\n  \n.error-container * {\n  display: inline-block;\n}\n  \n#cancel-error {\n  margin-right: 0.5rem;\n}\n\n.rating { \n  border: none;\n  float: left;\n}\n\n.rating > input { \n  display: none; \n  } \n\n.rating > label:before { \n  margin: 5px;\n  font-size: 1.25em;\n  font-family: FontAwesome;\n  display: block;\n  content: \"\\f005\";\n}\n\n.rating > label { \n  color: #ddd;  \n  float: right;\n}\n\n.rating > input:checked ~ label, /* show gold star when clicked */\n.rating:not(:checked) > label:hover, /* hover current star */\n.rating:not(:checked) > label:hover ~ label { \n  color: #FFD700;  \n} /* hover previous stars in list */\n\n.rating > input:checked + label:hover, /* hover current star when changing rating */\n.rating > input:checked ~ label:hover,\n.rating > label:hover ~ input:checked ~ label, /* lighten current selection */\n.rating > input:checked ~ label:hover ~ label {\n  color: #FFED85;  \n} ",""]),n.exports=o},function(n,o,e){"use strict";n.exports=function(n){var o=[];return o.toString=function(){return this.map((function(o){var e=function(n,o){var e=n[1]||"",t=n[3];if(!t)return e;if(o&&"function"==typeof btoa){var r=(i=t,l=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(l),"/*# ".concat(s," */")),a=t.sources.map((function(n){return"/*# sourceURL=".concat(t.sourceRoot||"").concat(n," */")}));return[e].concat(a).concat([r]).join("\n")}var i,l,s;return[e].join("\n")}(o,n);return o[2]?"@media ".concat(o[2]," {").concat(e,"}"):e})).join("")},o.i=function(n,e,t){"string"==typeof n&&(n=[[null,n,""]]);var r={};if(t)for(var a=0;a<this.length;a++){var i=this[a][0];null!=i&&(r[i]=!0)}for(var l=0;l<n.length;l++){var s=[].concat(n[l]);t&&r[s[0]]||(e&&(s[2]?s[2]="".concat(e," and ").concat(s[2]):s[2]=e),o.push(s))}},o}},function(n,o,e){"use strict";e.r(o);const t={bookmarks:[],adding:!1,error:null,filter:0};var r={store:t,bookmarks:t.bookmarks,adding:t.adding,filter:t.filter,error:t.error,findById:function(n){return console.log("ran FbyI"),t.bookmarks.find(o=>o.id===n)},addBookmark:function(n){const o={expanded:!1};Object.assign(o,n),console.log("ran addB"),this.bookmarks.push(o),console.log(t.bookmarks)},findAndDelete:function(n){return console.log("ran FandD"),console.log(n),console.log(t.bookmarks.length),t.bookmarks=t.bookmarks.filter(o=>o.id!==n),console.log(t.bookmarks.length),t.bookmarks},findAndToggleExpanded:function(n){console.log("ran findAndToggleExpanded");const o=this.findById(n);console.log(o),o.expanded=!o.expanded,$("#"+n).next(".content").toggle()},filterByRating:function(n){return console.log("ran filterByRating"),t.bookmarks.filter(o=>o.rating>=n)},setError:function(n){this.error=n}};const a="https://thinkful-list-api.herokuapp.com/vctrjrvs",i=function(...n){let o;return console.log("fullfetch run"),fetch(...n).then(n=>n.ok||(o={code:n.status},n.headers.get("Content-type").includes("json"))?n.json():(o.message=n.statusText,Promise.reject(o))).then(n=>o?(o.message=n.message,Promise.reject(o)):n)};var l={getBookmarks:function(){return console.log("getBookmarks ran"),i(a+"/bookmarks")},createBookmark:function({title:n,url:o,desc:e,rating:t}){console.log("createBookmarks ran");let r=JSON.stringify({title:n,url:o,desc:e,rating:t});return console.log(r),i(a+"/bookmarks",{method:"POST",headers:{"Content-Type":"application/json"},body:r})},deleteBookmark:function(n){return i(`${a}/bookmarks/${n}`,{method:"DELETE"})},fullFetch:i};let s="\n          <h1>My Bookmarks</h1>\n          <div class='js-bookmark-controls'>\n               <button class='js-add-button'>Add New</button>\n               <div class='dropdown'>\n                    <label for='js-rating'></label>\n                    <select id='js-rating-dropdown' value='Filter By Rating'>\n                         <option value=''>Filter By Minimum Rating</option>\n                         <option id='rating' value='5'>★ ★ ★ ★ ★</option>\n                         <option id='rating' value='4'>★ ★ ★ ★</option>\n                         <option id='rating' value='3'>★ ★ ★</option>\n                         <option id='rating' value='2'>★ ★</option>\n                         <option id='rating' value='1'>★</option>\n                         <option id='rating' value='0'>0 Stars</option>\n                    </select>\n               </div>\n          </div>\n          ";const c=function(){g();let n="",o=[...r.bookmarks],e=u(o);!0===r.adding?n+="\n<h2>Add New Bookmark</h2>\n<form role='form' class='js-add-bookmark-form'>\n     <fieldset class= 'js-add-fieldset'>\n          <label for='js-bookmark-title'>Bookmark Title</label>\n               <input type='text' id='js-bookmark-title' required>\n          <label for='js-bookmark-url'>Bookmark URL</label>\n               <input type='text' id='js-bookmark-url' required>\n          <label for='js-bookmark-description'>Description</label>\n               <div class='js-bookmark-description'>\n               <textarea id='js-bookmark-description' required></textarea>\n               </div>\n          <div class='rating' id='js-bookmark-rating' required>\n               <input type='radio' id='star5' name='rating' value='5' />\n               <label class ='full' for='star5' title='5 stars'></label>\n               <input type='radio' id='star4' name='rating' value='4' />\n               <label class ='full' for='star4' title='4 stars'></label>\n               <input type='radio' id='star3' name='rating' value='3' />\n               <label class = 'full' for='star3' title='3 stars'></label>\n               <input type='radio' id='star2' name='rating' value='2' />\n               <label class = 'full' for='star2' title='2 stars'></label>\n               <input type='radio' id='star1' name='rating' value='1' />\n               <label class = 'full' for='star1' title='1 star'></label>\n          </div>\n          <div class='js-new-bookmark-buttons'>\n          <button type='submit' class='js-create'>Create</button>\n          <button type='reset' class='js-cancel'>Cancel</button>\n          </div>\n     </fieldset>\n</form>\n":0!==r.filter?(n+=s,n+=u(r.filterByRating(r.filter))):(n+=s,console.log("home html added"),n+=e),$("main").html(n)},d=function(n){return $(n).attr("id")},u=function(n){return n.map(n=>p(n)).join("")},p=function(n){let o=`<span class='js-bookmark-title'>${n.title}</span>`,e=`<span class='js-bookmark-rating'>${n.rating}</span>`,t=""+n.url,r=""+n.desc,a="";for(let o=0;o<5;o++)o<n.rating?a+="<span class='fa fa-star checked'></span>":a+="<span class='fa fa-star'></span>";return`\n          <button type='button' id='${n.id}' class='js-collapsible'> ${o}: ${e} Stars</button>\n          <div class='content hidden'>\n          <div class= 'current-rating'>\n               ${a}\n          </div>\n          <div>\n          <a class='button' class='js-site-link-btn' href='${t}' target='_blank'>Visit Site</a>\n          <button type='' class='js-bookmark-delete-button' id='${n.id}'>Delete</button>\n          </div>\n          <p>${r}</p>\n     </div>\n          `},b=function(n){return`\n          <section class ='error-content'>\n               button id='cancel-error'>X</button>\n               <p>${n}</p>\n          </section>\n          `},g=function(){if(r.error){const n=b(r.error);$(".error-container").html(n)}else $(".error-container").empty()};var f=function(){console.log("line 163"),$("main").on("submit",".js-add-bookmark-form",n=>{let o;n.preventDefault(),console.log("handlenewbookmarksubmit ran");let e=$("#js-bookmark-title").val(),t=$("#js-bookmark-url").val(),a=$("#js-bookmark-description").val(),i=$("#js-bookmark-rating input:checked").val();""===e||""===t?b(e):(o={title:e,url:t,desc:a,rating:i},console.log(o),l.createBookmark(o).then(n=>{r.addBookmark(n),console.log("bookmark added"),r.adding=!1,c()}).catch(n=>{r.setError(n.messsage),g()}))}),$("main").on("click",".js-collapsible",n=>{console.log("line 200 clicked");const o=d(n.currentTarget);console.log(o),r.findAndToggleExpanded(o)}),$("main").on("change","#js-rating-dropdown",n=>{console.log("rating picked");const o=$("option:selected").val();console.log(o),r.filter=o,c()}),console.log("line 148"),$("main").on("click",".js-add-button",n=>{n.preventDefault(),console.log("Add new clicked"),r.adding=!r.adding,c()}),$("main").on("click",".js-bookmark-delete-button",n=>{console.log("delete button clicked");const o=d(n.currentTarget);console.log(o),l.deleteBookmark(o).then(()=>{r.findAndDelete(o),c()}).catch(n=>{console.log(n),r.setError(n.message),g()})}),$("main").on("click",".js-cancel",n=>{n.preventDefault(),console.log("cancel button clicked"),r.adding=!r.adding,c()}),$(".error-container").on("click","#cancel-error",()=>{r.setError(null),console.log("error x clicked"),g()})},k=c;e(0);$((function(){console.log("main start"),l.getBookmarks().then(n=>{n.forEach(n=>r.addBookmark(n)),k()}),f(),k()}))}]);